<html>
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        $(function()
        {
            var currentCol = 0,
                iosocket = io.connect(),
                divs = [document.getElementById("left-image"),
                        document.getElementById("right-image")];

            function insertImageAtFirst(filename, url)
            {
                var img = new Image();
                img.id = filename;
                img.src = url + filename;

                divs[currentCol].insertBefore(img, divs[currentCol].firstChild);
                currentCol = (currentCol == 0) ? 1 : 0;
            };

            function removeImage(filename)
            {
                document.getElementById(filename).remove();
            };

            iosocket.on('addImages', function(filenames, url)
            {
                for (i = 0; i < filenames.length; i++)
                {
                    insertImageAtFirst(filenames[i], url);
                }
            });

            iosocket.on('addImage', function(filename, url)
            {
                insertImageAtFirst(filename, url);
            });

            iosocket.on('removeImage', function(filename)
            {
                removeImage(filename);
            });

        });
    </script>
    <meta charset="UTF-8">
    <meta name="description" content="Tcpflow Visualiser">
    <meta name="keywords" content="Tcpflow Visualiser">
    <meta name="author" content="Vsevolod Ivanov">
    <meta name="author" content="Andrei Savin">

    <link rel="stylesheet" href="base.css">

<head>
    <title>Tcpflow Visualiser</title>
</head>

<body>
    <div id="header">
        <div id="menu">
            <header>
                Tcpflow Visualiser
                <small><small>
                    by
                    <a href="https://github.com/sevaivanov/tcpflow_visualiser/network/members">
                        this
                    </a>
                    folks!
                </small></small>
            </header>
        </div>
    </div>

    <!-- Content -->
    <div id="content">
        <div id="left-image" class='sides'></div>
        <div id="right-image" class='sides'></div>
    </div>
</body>
</html>
